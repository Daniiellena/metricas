name: CI Wood & Ensamble

# El pipeline se activa en cada "push" a la rama version1
on:
  push:
    branches: [ "version1" ]
  pull_request:
    branches: [ "version1" ]

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout del código
      uses: actions/checkout@v4

    - name: Validar estructura de archivos
      run: |
        echo "Verificando archivos críticos..."
        test -f index.html || (echo "Error: index.html no encontrado" && exit 1)
        test -d Images || (echo "Error: Carpeta Images no encontrada" && exit 1)
        echo "Estructura correcta verificada."

    - name: Simulación de Quality Gate (Métricas)
      run: |
        echo "Iniciando validación de métricas de calidad..."
        # Aquí es donde el pipeline 'fallaría' si no cumples una meta 
        echo "Análisis de seguridad (Captcha) completado."
        echo "Pipeline ejecutado con éxito."
